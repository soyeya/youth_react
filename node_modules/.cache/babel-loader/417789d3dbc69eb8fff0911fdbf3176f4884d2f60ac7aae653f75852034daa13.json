{"ast":null,"code":"import React,{createContext,createElement,useState,useEffect,useContext}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";export const useForm=_ref=>{let{initialValue,validate,onSubmit}=_ref;const[values,setValues]=useState(initialValue);const[errors,setErrors]=useState({});const[touched,setTouched]=useState({});const handleChange=e=>{setValues({...values,[e.target.name]:e.target.value});};const handleBlur=e=>{setTouched({...touched,[e.target.name]:true});};const handleSubmit=e=>{e.preventDefault();const nextTouched=Object.keys(values).reduce((touched,field)=>{touched[field]=true;return touched;},{});setTouched(nextTouched);const errors=validate(values);setErrors(errors);if(Object.values(errors).some(Boolean))return;onSubmit(values);};const getFieldProps=name=>{const value=values[name];const onBlur=handleBlur;const onChange=handleChange;return{name,value,onBlur,onChange};};useEffect(()=>{setErrors(validate(values));},[values]);return{values,errors,touched,handleBlur,handleChange,handleSubmit,getFieldProps};};const formContext=/*#__PURE__*/createContext({});formContext.displayName=\"FormContext\";export const Form=_ref2=>{let{id,className,children,...rest}=_ref2;const formValue=useForm(rest);return/*#__PURE__*/_jsx(formContext.Provider,{value:formValue,children:/*#__PURE__*/_jsx(\"form\",{noValidate:true,id:id,className:className,children:children})});};export const FormField=_ref3=>{let{as=\"input\",children,...rest}=_ref3;const{getFieldProps}=useContext(formContext);return/*#__PURE__*/createElement(as,{...rest,...getFieldProps(rest.name)},children);};export const ErrorMessage=_ref4=>{let{name}=_ref4;const{touched,errors}=useContext(formContext);if(!touched[name]||!errors[name])return null;return/*#__PURE__*/_jsx(\"span\",{children:errors[name]});};","map":{"version":3,"names":["React","createContext","createElement","useState","useEffect","useContext","jsx","_jsx","useForm","_ref","initialValue","validate","onSubmit","values","setValues","errors","setErrors","touched","setTouched","handleChange","e","target","name","value","handleBlur","handleSubmit","preventDefault","nextTouched","Object","keys","reduce","field","some","Boolean","getFieldProps","onBlur","onChange","formContext","displayName","Form","_ref2","id","className","children","rest","formValue","Provider","noValidate","FormField","_ref3","as","ErrorMessage","_ref4"],"sources":["/Users/soye/Downloads/2024포트폴리오/youth/youth_front/src/lib/MyForm.jsx"],"sourcesContent":["import React, { createContext, createElement , useState, useEffect, useContext} from 'react';\n\n\n\nexport const useForm = ({ initialValue, validate, onSubmit }) => {\n    const [values, setValues] = useState(initialValue);\n    const [errors, setErrors] = useState({});\n    const [touched, setTouched] = useState({});\n  \n    const handleChange = (e) => {\n      setValues({\n        ...values,\n        [e.target.name]: e.target.value,\n      });\n    };\n  \n    const handleBlur = (e) => {\n      setTouched({\n        ...touched,\n        [e.target.name]: true,\n      });\n    };\n  \n    const handleSubmit = (e) => {\n      e.preventDefault();\n  \n      const nextTouched = Object.keys(values).reduce((touched, field) => {\n        touched[field] = true;\n        return touched;\n      }, {});\n      setTouched(nextTouched);\n  \n      const errors = validate(values);\n      setErrors(errors);\n      if (Object.values(errors).some(Boolean)) return;\n  \n      onSubmit(values);\n    };\n  \n    const getFieldProps = (name) => {\n      const value = values[name];\n      const onBlur = handleBlur;\n      const onChange = handleChange;\n  \n      return {\n        name,\n        value,\n        onBlur,\n        onChange,\n      };\n    };\n  \n    useEffect(() => {\n      setErrors(validate(values));\n    }, [values]);\n  \n    return {\n      values,\n      errors,\n      touched,\n      handleBlur,\n      handleChange,\n      handleSubmit,\n      getFieldProps,\n    };\n  };\n\nconst formContext = createContext({});\nformContext.displayName = \"FormContext\";\n\nexport const Form = ({ id, className, children , ...rest}) => {\n    const formValue = useForm(rest);\n     return(\n        <formContext.Provider value={formValue}>\n            <form \n            noValidate\n            id={id}\n            className={className}\n            >\n            {children}    \n            </form>\n        </formContext.Provider>\n     )\n}\n\n\nexport const FormField = ({ as = \"input\", children , ...rest}) => {\n\n    const { getFieldProps } = useContext(formContext);\n     return createElement(\n       as,\n       {...rest , ...getFieldProps(rest.name)},\n       children\n     )\n}\n\nexport const ErrorMessage = ({ name }) => {\n    const { touched, errors } = useContext(formContext);\n    if (!touched[name] || !errors[name]) return null;\n    return <span>{errors[name]}</span>;\n  };"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}