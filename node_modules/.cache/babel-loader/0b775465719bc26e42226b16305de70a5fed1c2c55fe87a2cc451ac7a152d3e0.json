{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import{Link}from'react-router-dom';import Page from'../components/Page.jsx';import Title from'../components/Title.jsx';import Navi from'../components/Navi.jsx';import NaviDB from'../json/navi.json';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const MyList=()=>{const[upDateLogin,setUpdateLogin]=useState(false);const[dataContent,setDataContent]=useState();const[myListup,setmyListup]=useState(false);const changeCondition=async()=>{try{const res=await axios.get('http://localhost:3400/LoginList');const data=res.data;console.log(\"homeData\",data);if(data.length<=0){return setUpdateLogin(false);}else{return setUpdateLogin(true),setDataContent([data[0].userId,data[0].userPassword]);}}catch(err){console.log(err);}};const LogoutBtn=async()=>{if(!upDateLogin){return;}else{try{const res=await axios.post('http://localhost:3400/Logout',dataContent);const data=res.data;console.log('logout',data);setUpdateLogin(false);}catch(err){console.log('err');}}};const ListUpLoad=async()=>{const ListUp=[];if(!upDateLogin){return;}else{try{const res=await axios.get('http://localhost:3400/MyList');const data=res.data;console.log(data);if(data.length>0){for(let i in data){const title=data[i].title;const link=data[i].link;const administration=data[i].section;ListUp.push({title:title,link:link,administration:administration});}return setmyListup(ListUp);}console.log('mylist',myListup);}catch(err){console.log(err);}}};useEffect(()=>{changeCondition();ListUpLoad();},[upDateLogin]);if(upDateLogin){return/*#__PURE__*/_jsx(Page,{header:/*#__PURE__*/_jsx(Title,{title:'찜목록'}),footer:upDateLogin?/*#__PURE__*/_jsx(Navi,{Mylist:true,color:true,onClick:LogoutBtn}):/*#__PURE__*/_jsx(Navi,{data:NaviDB.join}),children:/*#__PURE__*/_jsx(\"div\",{className:\"Mylist\",children:/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsxs(\"h3\",{children:[dataContent&&dataContent[0],\"\\uB2D8\\uC758 \\uCC1C\\uBAA9\\uB85D\\uC785\\uB2C8\\uB2E4\"]}),myListup&&/*#__PURE__*/_jsx(_Fragment,{children:myListup.map((v,i)=>/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsxs(Link,{to:v.link,children:[/*#__PURE__*/_jsx(\"span\",{children:v.title}),/*#__PURE__*/_jsx(\"p\",{children:v.administration})]})},'myList'+i))})]})})});}else{return/*#__PURE__*/_jsx(Page,{header:/*#__PURE__*/_jsx(Title,{title:'찜목록'}),footer:/*#__PURE__*/_jsx(Navi,{data:NaviDB.join}),children:/*#__PURE__*/_jsx(\"div\",{className:\"Mylist\",children:/*#__PURE__*/_jsx(\"ul\",{children:/*#__PURE__*/_jsx(\"h3\",{children:\"\\uB85C\\uADF8\\uC778\\uD6C4 \\uC774\\uC6A9\\uAC00\\uB2A5\\uD569\\uB2C8\\uB2E4.\"})})})});}};export default MyList;","map":{"version":3,"names":["React","useState","useEffect","axios","Link","Page","Title","Navi","NaviDB","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","MyList","upDateLogin","setUpdateLogin","dataContent","setDataContent","myListup","setmyListup","changeCondition","res","get","data","console","log","length","userId","userPassword","err","LogoutBtn","post","ListUpLoad","ListUp","i","title","link","administration","section","push","header","footer","Mylist","color","onClick","join","children","className","map","v","to"],"sources":["/Users/soye/Downloads/2024포트폴리오/youth/youth_front/src/pages/MyList.jsx"],"sourcesContent":["import React , { useState, useEffect }from 'react';\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\nimport Page from '../components/Page.jsx';\nimport Title from '../components/Title.jsx';\nimport Navi from '../components/Navi.jsx';\nimport NaviDB from '../json/navi.json';\n\nconst MyList = () => {\n    const [ upDateLogin , setUpdateLogin] = useState(false);\n    const [ dataContent, setDataContent ] = useState();\n    const [ myListup , setmyListup ] = useState(false);\n\n\n    const changeCondition = async() => {\n\n        try{\n           const res = await axios.get('http://localhost:3400/LoginList');\n           const data = res.data;\n           console.log(`homeData`, data);\n   \n           if(data.length <= 0){\n             return setUpdateLogin(false);\n   \n           }else{\n             return setUpdateLogin(true), setDataContent([data[0].userId, data[0].userPassword]);\n           }\n   \n       } catch(err){\n   \n          console.log(err);\n       }\n        \n     }\n\n     const LogoutBtn = async() => {\n        if(!upDateLogin){\n            return\n          }else{\n              try{\n                const res = await axios.post('http://localhost:3400/Logout' , dataContent);\n                const data = res.data;\n                console.log('logout', data);\n                setUpdateLogin(false);\n              }\n              catch(err){\n                console.log('err');\n              }\n          \n          }\n     }\n\n    const ListUpLoad = async() => {\n       \n      const ListUp = [];\n      if(!upDateLogin){ return }\n      else{\n        try{\n         const res = await axios.get('http://localhost:3400/MyList');\n         const data = res.data;\n         console.log(data);\n        \n         if(data.length > 0){\n           for(let i in data){\n             const title = data[i].title;\n             const link = data[i].link;\n             const administration = data[i].section;\n             ListUp.push({title : title, link : link, administration : administration});\n           }\n           return setmyListup(ListUp);\n         }\n         console.log('mylist', myListup);\n\n      }catch(err){\n        console.log(err);\n      }\n     } \n    }\n\n     useEffect(() => {\n\n        changeCondition();\n        ListUpLoad();\n\n     },[upDateLogin])\n\n\n     if(upDateLogin){\n     return(\n\n      <Page header={ <Title title={'찜목록'}></Title>}\n       footer={ upDateLogin ? (<Navi Mylist color onClick={LogoutBtn}/>) : (<Navi data={NaviDB.join}></Navi>)}\n      >\n        <div className=\"Mylist\">\n             <ul>\n                <h3>{dataContent && dataContent[0]}님의 찜목록입니다</h3>\n                { myListup && <>\n                { myListup.map((v,i)=> (\n                  <li key={'myList' + i}><Link to={v.link}><span>{v.title}</span><p>{v.administration}</p></Link></li>\n                ))}\n                </>\n                }\n             </ul>\n        </div>\n      </Page>\n\n     )}\n     else{\n        return(\n            <Page header={ <Title title={'찜목록'}></Title>}\n             footer={<Navi data={NaviDB.join}></Navi>}\n            >\n              <div className=\"Mylist\">\n                   <ul>\n                      <h3>로그인후 이용가능합니다.</h3>\n                   </ul>\n              </div>\n            </Page>\n      \n           )\n     }\n}\n\nexport default MyList;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}