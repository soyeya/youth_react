{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import Page from\"../../components/Page\";import Title from'../../components/Title';import Navi from'../../components/Navi';import Info from'../../components/Info';import NaviDB from'../../json/navi.json';import selectDB from'../../json/select.json';import*as MyLayout from'../../lib/MyLayout';import ErrorDialog from'../../components/ErrorDialog';import{jsx as _jsx}from\"react/jsx-runtime\";const Residence=()=>{const[upDateLogin,setUpdateLogin]=useState(false);const[dataContent,setDataContent]=useState();const[data,setData]=useState(false);const[section,setSection]=useState('');const[content,setContent]=useState(false);const[href,setHref]=useState('');const{startLoading,finishLoading}=MyLayout.useLoading();const{openDialog}=MyLayout.useDialog();let arryContent01=[];let arryContent02=[];const changeCondition=async()=>{try{const res=await axios.get('http://localhost:3400/LoginList');const data=res.data;if(data.length<=0){return setUpdateLogin(false);}else{return setUpdateLogin(true),setDataContent([data[0].userId,data[0].userPassword]);}}catch(err){openDialog(/*#__PURE__*/_jsx(ErrorDialog,{}));return;}};const onClick=async value=>{const values=value;if(!data){setData(['']);setContent(['지역명을 선택해주세요']);setHref('');}if(values){startLoading(\"\".concat(values,\" \\uAC80\\uC0C9\\uC911...\"));try{console.log(values);const res=await axios.post('http://localhost:3400/residenceApi',values);const res_data=res.data.youthPolicyList.youthPolicy;if(!res_data.length){const result01=[res_data.polyBizSjnm._cdata];const result02=[res_data.polyItcnCn._cdata];arryContent01.push(result01);arryContent02.push(result02);return finishLoading(),setData(arryContent01),setContent(arryContent02),setHref(\"/details/residence/\".concat(values));}if(res_data.length>0){for(let i in res_data){const result01=[res_data[i].polyBizSjnm._cdata];const result02=[res_data[i].polyItcnCn._cdata];arryContent01.push(result01);arryContent02.push(result02);}return finishLoading(),setData(arryContent01),setContent(arryContent02),setHref(\"/details/residence/\".concat(values));}}catch(err){finishLoading();arryContent01=[],arryContent02=['검색결과가 없습니다'],setData(arryContent01),setContent(arryContent02),setSection('');setHref('');return;}finishLoading();}};const LogoutBtn=async()=>{if(!upDateLogin){return;}else{startLoading('로그아웃중...');try{const res=await axios.post('http://localhost:3400/Logout',dataContent);const data=res.data;return finishLoading(),setUpdateLogin(false);}catch(err){finishLoading();console.log('err');}finishLoading();}};useEffect(()=>{onClick();changeCondition();},[data,content,upDateLogin]);return/*#__PURE__*/_jsx(Page,{header:/*#__PURE__*/_jsx(Title,{title:'주거',backURL:'/'}),footer:upDateLogin?/*#__PURE__*/_jsx(Navi,{loginUpload:true,color:true,onClick:LogoutBtn}):/*#__PURE__*/_jsx(Navi,{data:NaviDB.Info}),children:/*#__PURE__*/_jsx(Info,{id:'residence',data:selectDB.region,onChange:e=>onClick(e.target.value),list01:data,list02:content,name:href})});};export default Residence;","map":{"version":3,"names":["React","useState","useEffect","axios","Page","Title","Navi","Info","NaviDB","selectDB","MyLayout","ErrorDialog","jsx","_jsx","Residence","upDateLogin","setUpdateLogin","dataContent","setDataContent","data","setData","section","setSection","content","setContent","href","setHref","startLoading","finishLoading","useLoading","openDialog","useDialog","arryContent01","arryContent02","changeCondition","res","get","length","userId","userPassword","err","onClick","value","values","concat","console","log","post","res_data","youthPolicyList","youthPolicy","result01","polyBizSjnm","_cdata","result02","polyItcnCn","push","i","LogoutBtn","header","title","backURL","footer","loginUpload","color","children","id","region","onChange","e","target","list01","list02","name"],"sources":["/Users/soye/Downloads/2024포트폴리오/youth/youth_front/src/pages/menu/Residence.jsx"],"sourcesContent":["import React , { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport Page from \"../../components/Page\"\nimport Title from '../../components/Title';\nimport Navi from '../../components/Navi';\nimport Info from '../../components/Info';\nimport NaviDB from '../../json/navi.json';\nimport selectDB from '../../json/select.json';\nimport * as MyLayout from '../../lib/MyLayout';\nimport ErrorDialog from '../../components/ErrorDialog';\n\nconst Residence = () => {\n\n    const [ upDateLogin , setUpdateLogin] = useState(false);\n    const [ dataContent, setDataContent ] = useState();\n    const [data, setData] = useState(false);\n    const [section, setSection ] = useState('');\n    const [content, setContent] = useState(false);\n    const [href , setHref] = useState('');\n    const { startLoading , finishLoading } = MyLayout.useLoading();\n    const { openDialog } = MyLayout.useDialog();\n\n    let arryContent01 = [];\n    let arryContent02 = [];\n\n    const changeCondition = async() => {\n\n      try{\n         const res = await axios.get('http://localhost:3400/LoginList');\n         const data = res.data;\n \n         if(data.length <= 0){\n           return setUpdateLogin(false);\n \n         }else{\n           return setUpdateLogin(true), setDataContent([data[0].userId, data[0].userPassword]);\n         }\n \n     } catch(err){\n        openDialog(<ErrorDialog />)\n        return;\n     }\n      \n   }\n\n    const onClick = async(value) => {\n          const values = value;\n          if(!data){\n             setData(['']);\n             setContent(['지역명을 선택해주세요'])\n             setHref('');\n          }\n          if(values){\n            startLoading(`${values} 검색중...`)\n              try{\n                    console.log(values);\n                    const res = await axios.post('http://localhost:3400/residenceApi', values);\n                    const res_data = res.data.youthPolicyList.youthPolicy;\n\n                    if(!res_data.length){\n                        const result01 = [res_data.polyBizSjnm._cdata];\n                        const result02 = [res_data.polyItcnCn._cdata];\n                        arryContent01.push(result01);\n                        arryContent02.push(result02);\n                        return  finishLoading(), setData(arryContent01), setContent(arryContent02), setHref(`/details/residence/${values}`);\n                    }\n                    if(res_data.length > 0){\n                      for(let i in res_data){\n                          const result01 = [res_data[i].polyBizSjnm._cdata];\n                          const result02 = [res_data[i].polyItcnCn._cdata];\n                          arryContent01.push(result01);\n                          arryContent02.push(result02);\n                      }\n                       return  finishLoading(), setData(arryContent01), setContent(arryContent02), setHref(`/details/residence/${values}`);\n                    }\n\n                } catch(err){\n                  finishLoading();\n                  arryContent01 = [], \n                  arryContent02 = ['검색결과가 없습니다'],\n                  setData(arryContent01), \n                  setContent(arryContent02),\n                  setSection('');\n                  setHref('');\n                  return;\n             }\n             finishLoading();\n           }};\n\n           const LogoutBtn = async() => {\n\n            if(!upDateLogin){\n              return\n            }else{\n                startLoading('로그아웃중...');\n                try{\n                  const res = await axios.post('http://localhost:3400/Logout' , dataContent);\n                  const data = res.data;\n                  return finishLoading(), setUpdateLogin(false);\n                }\n                catch(err){\n                  finishLoading();\n                  console.log('err');\n                }\n                finishLoading();\n            \n            }\n          };\n\n            useEffect(() => {\n              onClick();\n              changeCondition();\n            },[data, content, upDateLogin])\n\n\n     return(\n       <Page header={<Title title={'주거'} backURL={'/'}/>}\n       footer={ upDateLogin ? (<Navi loginUpload color onClick={LogoutBtn}/>) : (<Navi data={NaviDB.Info}></Navi>)}\n       >\n        <Info \n            id={'residence'} \n            data={selectDB.region} \n            onChange={(e) => onClick(e.target.value)}\n            list01={data}\n            list02={content}\n            name={href}\n          />\n       </Page>\n     )\n}\n\nexport default Residence;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}