{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useParams}from'react-router-dom';import axios from'axios';import Page from'../../components/Page.jsx';import Title from'../../components/Title.jsx';import Navi from'../../components/Navi.jsx';import naviDB from'../../json/navi.json';import Detail from'../../components/Detail';import ErrorDialog from'../../components/ErrorDialog.jsx';import*as MyLayout from'../../lib/MyLayout.jsx';import{jsx as _jsx}from\"react/jsx-runtime\";const Jobdetails=()=>{const[upDateLogin,setUpdateLogin]=useState(false);const[dataContent,setDataContent]=useState();const[info,setInfo]=useState();const[expire,setExpire]=useState();const[administration,setAdministration]=useState();const[address,setAddress]=useState();const[etct,setEtct]=useState();const{startLoading,finishLoading}=MyLayout.useLoading();const{openDialog}=MyLayout.useDialog();const params=useParams();const{values,name}=params;const arry01={title:[],content:[],expire:[],administration:[],address:[],etct:[]};const changeCondition=async()=>{try{const res=await axios.get('http://localhost:3400/LoginList');const data=res.data;if(data.length<=0){return setUpdateLogin(false);}else{return setUpdateLogin(true),setDataContent([data[0].userId,data[0].userPassword]);}}catch(err){openDialog(/*#__PURE__*/_jsx(ErrorDialog,{}));return;}};const Api=async()=>{startLoading('정보불러오는 중...');try{const res=await axios.post('http://localhost:3400/jobApi',name);const data=res.data.youthPolicyList.youthPolicy;if(!data.length){const data_title=data.polyBizSjnm._cdata;const data_content=data.polyItcnCn._cdata;const data_expire=data.bizPrdCn._cdata;const data_administration=data.mngtMson._cdata;const data_address=data.rqutProcCn._cdata;const data_etct=data.etct._cdata;arry01.title.push(data_title);arry01.content.push(data_content);arry01.expire.push(data_expire);arry01.administration.push(data_administration);arry01.address.push(data_address);arry01.etct.push(data_etct);return finishLoading(),setInfo(arry01.content),setExpire(arry01.expire),setAdministration(arry01.administration),setAddress(arry01.address),setEtct(arry01.etct);}else if(data.length>0){for(let i in data){const data_title=data[i].polyBizSjnm._cdata;const data_content=data[i].polyItcnCn._cdata;const data_expire=data[i].bizPrdCn._cdata;const data_administration=data[i].mngtMson._cdata;const data_address=data[i].rqutProcCn._cdata;const data_etct=data[i].etct._cdata!=null?data[i].etct._cdata:'없음';arry01.title.push(data_title);arry01.content.push(data_content);arry01.expire.push(data_expire);arry01.administration.push(data_administration);arry01.address.push(data_address);arry01.etct.push(data_etct);if(arry01.title[i]==values){return finishLoading(),setInfo(arry01.content[i]),setExpire(arry01.expire[i]),setAdministration(arry01.administration[i]),setAddress(arry01.address[i]),setEtct(arry01.etct[i]);}}}}catch(err){finishLoading();openDialog(/*#__PURE__*/_jsx(ErrorDialog,{}));return;}finishLoading();};const onClick=async e=>{const value=params.values;const name=params.name;const link=\"/details/job/\".concat(name,\"/\").concat(value);const letter=e;if(upDateLogin){try{const res=await axios.post('http://localhost:3400/MyList',[dataContent[0],name,link,value]);const data=res.data;if(data=='already'){return alert('이미 찜한 상품입니다');}else{letter.style.color=\"#f00000\";return alert('찜에 성공했습니다.');}}catch(err){openDialog(/*#__PURE__*/_jsx(ErrorDialog,{}));return;}}else{return alert('로그인이후 이용가능합니다');}};useEffect(()=>{changeCondition();Api();},[upDateLogin]);return/*#__PURE__*/_jsx(Page,{header:/*#__PURE__*/_jsx(Title,{title:'직업정책설명'}),footer:upDateLogin?/*#__PURE__*/_jsx(Navi,{data:naviDB.Info}):/*#__PURE__*/_jsx(Navi,{data:naviDB.detail}),children:/*#__PURE__*/_jsx(Detail,{d:true,title:values,info:info,expire:expire,administration:administration,etct:etct,address:address,onClick:e=>onClick(e.target)})});};export default Jobdetails;","map":{"version":3,"names":["React","useState","useEffect","useParams","axios","Page","Title","Navi","naviDB","Detail","ErrorDialog","MyLayout","jsx","_jsx","Jobdetails","upDateLogin","setUpdateLogin","dataContent","setDataContent","info","setInfo","expire","setExpire","administration","setAdministration","address","setAddress","etct","setEtct","startLoading","finishLoading","useLoading","openDialog","useDialog","params","values","name","arry01","title","content","changeCondition","res","get","data","length","userId","userPassword","err","Api","post","youthPolicyList","youthPolicy","data_title","polyBizSjnm","_cdata","data_content","polyItcnCn","data_expire","bizPrdCn","data_administration","mngtMson","data_address","rqutProcCn","data_etct","push","i","onClick","e","value","link","concat","letter","alert","style","color","header","footer","Info","detail","children","d","target"],"sources":["/Users/soye/Downloads/2024포트폴리오/youth/youth_front/src/pages/details/JobDetail.jsx"],"sourcesContent":["import React , { useState , useEffect} from 'react';\nimport { useParams } from 'react-router-dom';\nimport axios from 'axios';\nimport Page from '../../components/Page.jsx';\nimport Title from '../../components/Title.jsx';\nimport Navi from '../../components/Navi.jsx';\nimport naviDB from '../../json/navi.json';\nimport Detail from '../../components/Detail';\nimport ErrorDialog from '../../components/ErrorDialog.jsx';\nimport * as MyLayout from '../../lib/MyLayout.jsx';\n\n\nconst Jobdetails = () => {\n\n  const [ upDateLogin , setUpdateLogin] = useState(false);\n  const [ dataContent, setDataContent ] = useState();\n  const [ info , setInfo ] = useState();\n  const [ expire , setExpire ] = useState();\n  const [ administration , setAdministration ] = useState();\n  const [ address , setAddress ] = useState();\n  const [ etct, setEtct ] = useState();\n  const { startLoading, finishLoading } = MyLayout.useLoading();\n  const { openDialog } = MyLayout.useDialog();\n  const params = useParams();\n  const { values , name } = params;\n  const arry01 = { title : [], content : [], expire :[], administration : [], address : [] , etct : []};\n\n\n  const changeCondition = async() => {\n\n    try{\n       const res = await axios.get('http://localhost:3400/LoginList');\n       const data = res.data;\n\n       if(data.length <= 0){\n         return setUpdateLogin(false);\n\n       }else{\n         return setUpdateLogin(true), setDataContent([data[0].userId, data[0].userPassword]);\n       }\n\n   } catch(err){\n      openDialog(<ErrorDialog />);\n      return;\n   }\n    \n }\n\n  const Api = async() => {\n     \n     startLoading('정보불러오는 중...');\n     try{\n     const res = await axios.post('http://localhost:3400/jobApi' , name);\n     const data = res.data.youthPolicyList.youthPolicy; \n\n     if(!data.length){\n     const data_title = data.polyBizSjnm._cdata;\n     const data_content = data.polyItcnCn._cdata;\n     const data_expire = data.bizPrdCn._cdata;\n     const data_administration = data.mngtMson._cdata;\n     const data_address = data.rqutProcCn._cdata;\n     const data_etct = data.etct._cdata;\n   \n     arry01.title.push(data_title);\n     arry01.content.push(data_content);\n     arry01.expire.push(data_expire);\n     arry01.administration.push(data_administration);\n     arry01.address.push(data_address);\n     arry01.etct.push(data_etct);\n \n     return  finishLoading(),\n     setInfo(arry01.content),\n     setExpire(arry01.expire),\n     setAdministration(arry01.administration),\n     setAddress(arry01.address),\n     setEtct(arry01.etct);\n\n     }\n\n    else if(data.length > 0){\n\n     for(let i in data){\n       \n        const data_title = data[i].polyBizSjnm._cdata;\n        const data_content = data[i].polyItcnCn._cdata;\n        const data_expire = data[i].bizPrdCn._cdata;\n        const data_administration = data[i].mngtMson._cdata;\n        const data_address = data[i].rqutProcCn._cdata;\n        const data_etct = data[i].etct._cdata != null ? data[i].etct._cdata : '없음';\n      \n        arry01.title.push(data_title);\n        arry01.content.push(data_content);\n        arry01.expire.push(data_expire);\n        arry01.administration.push(data_administration);\n        arry01.address.push(data_address);\n        arry01.etct.push(data_etct);\n    \n\n        if(arry01.title[i] == values){\n\n          return finishLoading(),\n          setInfo(arry01.content[i]),\n          setExpire(arry01.expire[i]),\n          setAdministration(arry01.administration[i]),\n          setAddress(arry01.address[i]),\n          setEtct(arry01.etct[i]);\n        }\n      }\n    }\n  \n     }catch(err){\n       finishLoading();\n       openDialog(<ErrorDialog />);\n       return;\n     }\n\n     finishLoading();\n        \n  }\n\n  const onClick = async(e) => {\n\n     const value = params.values;\n     const name = params.name;\n     const link = `/details/job/${name}/${value}`;\n     const letter = e;\n\n     if(upDateLogin){\n\n       try{\n       const res = await axios.post('http://localhost:3400/MyList' , [dataContent[0], name, link, value]);\n       const data = res.data;\n\n       if(data == 'already'){\n         return alert('이미 찜한 상품입니다');\n       }else{\n         letter.style.color = `#f00000`;\n\n         return alert('찜에 성공했습니다.');\n       }\n      }catch(err){\n        openDialog(<ErrorDialog />);\n        return;\n      }\n\n     }else{\n\n         return alert('로그인이후 이용가능합니다');\n     }\n     \n  }\n\n\n\n  useEffect(() => {\n\n      changeCondition();\n      Api();\n\n  },[upDateLogin])\n\n     return(\n        <Page header={<Title title={'직업정책설명'}></Title>}\n        footer={ upDateLogin ? (<Navi data={naviDB.Info}/>) : (<Navi data={naviDB.detail}/>)}>\n      \n          <Detail d\n          title={ values }\n          info={info}\n          expire={expire}\n          administration={administration}\n          etct={etct}\n          address={address}\n          onClick={(e) => onClick(e.target)}\n          >\n            \n          </Detail>\n          \n        </Page>\n     )\n}\n\nexport default Jobdetails;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}