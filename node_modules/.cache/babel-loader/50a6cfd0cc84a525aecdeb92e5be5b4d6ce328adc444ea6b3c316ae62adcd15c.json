{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import Page from\"../../components/Page\";import Title from'../../components/Title';import Navi from'../../components/Navi';import Info from'../../components/Info';import NaviDB from'../../json/navi.json';import selectDB from'../../json/select.json';import*as MyLayout from'../../lib/MyLayout';import ErrorDialog from'../../components/ErrorDialog';import{jsx as _jsx}from\"react/jsx-runtime\";const Welfare=()=>{const[upDateLogin,setUpdateLogin]=useState(false);const[dataContent,setDataContent]=useState();const[data,setData]=useState(false);const[content,setContent]=useState(false);const[href,setHref]=useState('');const{startLoading,finishLoading}=MyLayout.useLoading();const{openDialog}=MyLayout.useDialog();let arryContent01=[];let arryContent02=[];const changeCondition=async()=>{try{const res=await axios.get('http://localhost:3400/LoginList');const data=res.data;if(data.length<=0){return setUpdateLogin(false);}else{return setUpdateLogin(true),setDataContent([data[0].userId,data[0].userPassword]);}}catch(err){openDialog(/*#__PURE__*/_jsx(ErrorDialog,{}));return;}};const onClick=async value=>{const values=value;if(!data){setData(['']);setContent(['지역명을 선택해주세요']);setHref('');}if(values){startLoading(\"\".concat(values,\" \\uAC80\\uC0C9\\uC911...\"));try{const res=await axios.post('http://localhost:3400/welfareApi',values);const res_data=res.data.youthPolicyList.youthPolicy;if(!res_data.length){const result01=[res_data.polyBizSjnm._cdata];const result02=[res_data.polyItcnCn._cdata];arryContent01.push(result01);arryContent02.push(result02);return finishLoading(),setData(arryContent01),setContent(arryContent02),setHref(\"/details/welfare/\".concat(values));}if(res_data.length>0){for(let i in res_data){const result01=[res_data[i].polyBizSjnm._cdata];const result02=[res_data[i].polyItcnCn._cdata];arryContent01.push(result01);arryContent02.push(result02);}return finishLoading(),setData(arryContent01),setContent(arryContent02),setHref(\"/details/welfare/\".concat(values));}}catch(err){finishLoading();arryContent01=[];arryContent02=['검색결과가 없습니다'];setData(arryContent01);setContent(arryContent02);setHref('');return;}finishLoading();}};const LogoutBtn=async()=>{if(!upDateLogin){return;}else{try{startLoading('로그아웃중...');const res=await axios.post('http://localhost:3400/Logout',dataContent);const data=res.data;return finishLoading(),setUpdateLogin(false);}catch(err){finishLoading();console.log('err');}finishLoading();}};useEffect(()=>{changeCondition();onClick();},[data,content,upDateLogin]);return/*#__PURE__*/_jsx(Page,{header:/*#__PURE__*/_jsx(Title,{title:'복지',backURL:'/'}),footer:upDateLogin?/*#__PURE__*/_jsx(Navi,{loginUpload:true,color:true,onClick:LogoutBtn}):/*#__PURE__*/_jsx(Navi,{data:NaviDB.Info}),children:/*#__PURE__*/_jsx(Info,{id:'welfare',data:selectDB.region,onChange:e=>onClick(e.target.value),list01:data,list02:content,name:href})});};export default Welfare;","map":{"version":3,"names":["React","useState","useEffect","axios","Page","Title","Navi","Info","NaviDB","selectDB","MyLayout","ErrorDialog","jsx","_jsx","Welfare","upDateLogin","setUpdateLogin","dataContent","setDataContent","data","setData","content","setContent","href","setHref","startLoading","finishLoading","useLoading","openDialog","useDialog","arryContent01","arryContent02","changeCondition","res","get","length","userId","userPassword","err","onClick","value","values","concat","post","res_data","youthPolicyList","youthPolicy","result01","polyBizSjnm","_cdata","result02","polyItcnCn","push","i","LogoutBtn","console","log","header","title","backURL","footer","loginUpload","color","children","id","region","onChange","e","target","list01","list02","name"],"sources":["/Users/soye/Downloads/2024포트폴리오/youth/youth_front/src/pages/menu/Welfare.jsx"],"sourcesContent":["import React , { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport Page from \"../../components/Page\"\nimport Title from '../../components/Title';\nimport Navi from '../../components/Navi';\nimport Info from '../../components/Info';\nimport NaviDB from '../../json/navi.json';\nimport selectDB from '../../json/select.json';\nimport * as MyLayout from '../../lib/MyLayout';\nimport ErrorDialog from '../../components/ErrorDialog';\n\nconst Welfare = () => {\n\n    const [ upDateLogin , setUpdateLogin] = useState(false);\n    const [ dataContent, setDataContent ] = useState();\n    const [data, setData] = useState(false);\n    const [content, setContent] = useState(false);\n    const [href , setHref] = useState('');\n    const { startLoading , finishLoading } = MyLayout.useLoading();\n    const { openDialog } = MyLayout.useDialog();\n    let arryContent01 = [];\n    let arryContent02 = [];\n\n    const changeCondition = async() => {\n\n      try{\n         const res = await axios.get('http://localhost:3400/LoginList');\n         const data = res.data;\n \n         if(data.length <= 0){\n           return setUpdateLogin(false);\n \n         }else{\n           return setUpdateLogin(true), setDataContent([data[0].userId, data[0].userPassword]);\n         }\n \n     } catch(err){\n          openDialog(<ErrorDialog />);\n          return;\n     }\n      \n   };\n\n    \n    const onClick = async(value) => {\n          const values = value;\n          if(!data){\n             setData(['']);\n             setContent(['지역명을 선택해주세요'])\n             setHref('');\n          }\n          if(values){\n            startLoading(`${values} 검색중...`)\n              try{\n                    const res = await axios.post('http://localhost:3400/welfareApi', values);\n                    const res_data = res.data.youthPolicyList.youthPolicy;\n                    if(!res_data.length){\n                        const result01 = [res_data.polyBizSjnm._cdata];\n                        const result02 = [res_data.polyItcnCn._cdata];\n                        arryContent01.push(result01);\n                        arryContent02.push(result02);\n                        return finishLoading(), setData(arryContent01), setContent(arryContent02) , setHref(`/details/welfare/${values}`);\n                    }\n                    if(res_data.length > 0){\n                        for(let i in res_data){\n                          const result01 = [res_data[i].polyBizSjnm._cdata];\n                          const result02 = [res_data[i].polyItcnCn._cdata];\n                          arryContent01.push(result01);\n                          arryContent02.push(result02);\n                      }\n\n                      return finishLoading(), setData(arryContent01), setContent(arryContent02), setHref(`/details/welfare/${values}`);\n                    \n                    }\n\n\n                } catch(err){\n                  finishLoading();\n                  arryContent01 = []; \n                  arryContent02 = ['검색결과가 없습니다'];\n                  setData(arryContent01);\n                  setContent(arryContent02);\n                  setHref('');\n                  return;\n             }\n             finishLoading();\n           }};\n\n           const LogoutBtn = async() => {\n\n            if(!upDateLogin){\n              return\n            }else{\n              try{\n                  startLoading('로그아웃중...');\n                  const res = await axios.post('http://localhost:3400/Logout' , dataContent);\n                  const data = res.data;\n                  return finishLoading(), setUpdateLogin(false);\n                }\n                catch(err){\n                  finishLoading();\n                  console.log('err');\n                }\n                finishLoading();\n            }\n          };\n\n    useEffect(() => {\n      changeCondition();\n       onClick();\n    },[data, content , upDateLogin])\n\n\n     return(\n       <Page header={<Title title={'복지'} backURL={'/'}/>}\n       footer={ upDateLogin ? (<Navi loginUpload color onClick={LogoutBtn}/>) : (<Navi data={NaviDB.Info}></Navi>)}\n       >\n        <Info \n            id={'welfare'} \n            data={selectDB.region} \n            onChange={(e) => onClick(e.target.value)}\n            list01={data}\n            list02={content}\n            name={href}\n          />\n       </Page>\n     )\n}\n\nexport default Welfare;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}