{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import Info from'../../components/Info';import Page from'../../components/Page';import Title from'../../components/Title';import Navi from'../../components/Navi';import NaviDB from'../../json/navi.json';import selectDB from'../../json/select.json';import FinanceInfo from'../../components/FinanceInfo';import*as MyLayout from'../../lib/MyLayout';import ErrorDialog from'../../components/ErrorDialog';import{jsx as _jsx}from\"react/jsx-runtime\";const Finance=()=>{const[upDateLogin,setUpdateLogin]=useState(false);const[dataContent,setDataContent]=useState();const[data,setData]=useState(false);const[href,setHref]=useState('');const{startLoading,finishLoading}=MyLayout.useLoading();const{openDialog}=MyLayout.useDialog();let arryContent01=[];const changeCondition=async()=>{try{const res=await axios.get('http://localhost:3400/LoginList');const data=res.data;if(data.length<=0){return setUpdateLogin(false);}else{return setUpdateLogin(true),setDataContent([data[0].userId,data[0].userPassword]);}}catch(err){openDialog(/*#__PURE__*/_jsx(ErrorDialog,{}));return;}};const onClick=async value=>{const values=value;if(!data){setData(data);setHref('');}if(values){try{startLoading(\"\".concat(values,\" \\uAC80\\uC0C9\\uC911...\"));const res=await axios.post('http://localhost:3400/financeApi',values);const res_data=res.data.baseList;if(res_data.length<=0){const title=res_data.kor_co_nm;const prdtnm=res_data.fin_prdt_nm;const start=res_data.dcls_strt_day;const typenm=res.data.optionList.rsrv_type_nm;arryContent01.push({title,prdtnm,typenm,start});return finishLoading(),setData(arryContent01),setHref(\"/details/finance/\".concat(values));}if(res_data.length>0){for(let i in res_data){const title=res_data[i].kor_co_nm;const prdtnm=res_data[i].fin_prdt_nm;const start=res_data[i].dcls_strt_day;const typenm=res.data.optionList[i].rsrv_type_nm;arryContent01.push({title,prdtnm,typenm,start});}return finishLoading(),setData(arryContent01),setHref(\"/details/finance/\".concat(values));}}catch(err){finishLoading();arryContent01=[];setData('검색결과가 없습니다');return;}finishLoading();}};const LogoutBtn=async()=>{if(!upDateLogin){return;}else{try{startLoading('로그아웃중...');const res=await axios.post('http://localhost:3400/Logout',dataContent);const data=res.data;return finishLoading(),setUpdateLogin(false);}catch(err){finishLoading();console.log('err');}finishLoading();}};useEffect(()=>{changeCondition();onClick();},[data,upDateLogin]);return/*#__PURE__*/_jsx(Page,{header:/*#__PURE__*/_jsx(Title,{title:'금융',backURL:'/'}),footer:upDateLogin?/*#__PURE__*/_jsx(Navi,{loginUpload:true,color:true,onClick:LogoutBtn}):/*#__PURE__*/_jsx(Navi,{data:NaviDB.Info}),children:/*#__PURE__*/_jsx(FinanceInfo,{id:'금융',data:selectDB.bank,onChange:e=>onClick(e.target.value),dataName:data,name:href})});};export default Finance;","map":{"version":3,"names":["React","useState","useEffect","axios","Info","Page","Title","Navi","NaviDB","selectDB","FinanceInfo","MyLayout","ErrorDialog","jsx","_jsx","Finance","upDateLogin","setUpdateLogin","dataContent","setDataContent","data","setData","href","setHref","startLoading","finishLoading","useLoading","openDialog","useDialog","arryContent01","changeCondition","res","get","length","userId","userPassword","err","onClick","value","values","concat","post","res_data","baseList","title","kor_co_nm","prdtnm","fin_prdt_nm","start","dcls_strt_day","typenm","optionList","rsrv_type_nm","push","i","LogoutBtn","console","log","header","backURL","footer","loginUpload","color","children","id","bank","onChange","e","target","dataName","name"],"sources":["/Users/soye/Downloads/2024포트폴리오/youth/youth_front/src/pages/menu/Finance.jsx"],"sourcesContent":["import React , { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport Info from '../../components/Info';\nimport Page from '../../components/Page';\nimport Title from '../../components/Title';\nimport Navi from '../../components/Navi';\nimport NaviDB from '../../json/navi.json';\nimport selectDB from '../../json/select.json';\nimport FinanceInfo from '../../components/FinanceInfo';\nimport * as MyLayout from '../../lib/MyLayout';\nimport ErrorDialog from '../../components/ErrorDialog';\n\nconst Finance = () => {\n\n    const [ upDateLogin , setUpdateLogin] = useState(false);\n    const [ dataContent, setDataContent ] = useState();\n    const [data, setData] = useState(false);\n    const [href , setHref] = useState('');\n    const { startLoading , finishLoading } = MyLayout.useLoading();\n    const { openDialog } = MyLayout.useDialog();\n    let arryContent01 = [];\n    \n\n    const changeCondition = async() => {\n\n      try{\n         const res = await axios.get('http://localhost:3400/LoginList');\n         const data = res.data;\n \n         if(data.length <= 0){\n           return setUpdateLogin(false);\n \n         }else{\n           return setUpdateLogin(true), setDataContent([data[0].userId, data[0].userPassword]);\n         }\n \n     } catch(err){\n          openDialog(<ErrorDialog />);\n          return;\n     }\n      \n   };\n\n    const onClick = async(value) => {\n\n          const values = value;\n          if(!data){\n             setData(data);\n             setHref('')\n          }\n          if(values){\n              try{\n                    startLoading(`${values} 검색중...`);\n                    const res = await axios.post('http://localhost:3400/financeApi', values);\n                    const res_data = res.data.baseList;\n\n              if(res_data.length <= 0){\n                  const title = res_data.kor_co_nm;\n                  const prdtnm = res_data.fin_prdt_nm;\n                  const start = res_data.dcls_strt_day;\n                  const typenm = res.data.optionList.rsrv_type_nm;\n                  arryContent01.push({title , prdtnm , typenm , start});\n                  return finishLoading(), setData(arryContent01) , setHref(`/details/finance/${values}`);\n              }\n\n              if(res_data.length > 0){\n\n                  for(let i in res_data){\n                      const title = res_data[i].kor_co_nm;\n                      const prdtnm = res_data[i].fin_prdt_nm;\n                      const start = res_data[i].dcls_strt_day;\n                      const typenm =res.data.optionList[i].rsrv_type_nm;\n                      arryContent01.push({title , prdtnm , typenm , start});\n                  }\n                  return finishLoading(), setData(arryContent01) , setHref(`/details/finance/${values}`);\n      \n              }\n                    } catch(err){\n                      finishLoading();\n                      arryContent01 = []; \n                      setData('검색결과가 없습니다');\n                      return;\n                }\n                finishLoading();\n              }};\n\n        const LogoutBtn = async() => {\n\n          if(!upDateLogin){\n            return\n          }else{\n              try{\n                startLoading('로그아웃중...');\n                const res = await axios.post('http://localhost:3400/Logout' , dataContent);\n                const data = res.data;\n                return finishLoading(), setUpdateLogin(false);\n              }\n              catch(err){\n                finishLoading();\n                console.log('err');\n              }\n              \n               finishLoading();\n          }\n        }\n\n                useEffect(() => {\n                  changeCondition();\n                  onClick();\n                },[data, upDateLogin])\n\n    return(\n     <Page header={<Title title={'금융'} backURL={'/'}/>}\n     footer={ upDateLogin ? (<Navi loginUpload color onClick={LogoutBtn}/>) : (<Navi data={NaviDB.Info}></Navi>)}\n     >\n       <FinanceInfo\n       id={'금융'}\n       data={selectDB.bank}\n       onChange={(e) => onClick(e.target.value)}\n       dataName={data}\n       name={href}\n       >\n\n       </FinanceInfo>\n     </Page>\n    )\n}\n\nexport default Finance;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}