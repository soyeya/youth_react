{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useParams}from'react-router-dom';import axios from'axios';import Page from'../../components/Page.jsx';import Title from'../../components/Title.jsx';import Navi from'../../components/Navi.jsx';import naviDB from'../../json/navi.json';import Detail from'../../components/Detail';import ErrorDialog from'../../components/ErrorDialog.jsx';import*as MyLayout from'../../lib/MyLayout.jsx';import{jsx as _jsx}from\"react/jsx-runtime\";const WelfareDetails=()=>{const params=useParams();const[upDateLogin,setUpdateLogin]=useState(false);const[dataContent,setDataContent]=useState();const[info,setInfo]=useState();const[expire,setExpire]=useState();const[administration,setAdministration]=useState();const[address,setAddress]=useState();const[etct,setEtct]=useState();const{startLoading,finishLoading}=MyLayout.useLoading();const{openDialog}=MyLayout.useDialog();const{values,name}=params;const arry01={title:[],content:[],expire:[],administration:[],address:[],etct:[]};const changeCondition=async()=>{try{const res=await axios.get('http://localhost:3400/LoginList');const data=res.data;if(data.length<=0){return setUpdateLogin(false);}else{return setUpdateLogin(true),setDataContent([data[0].userId,data[0].userPassword]);}}catch(err){openDialog(/*#__PURE__*/_jsx(ErrorDialog,{}));return;}};const Api=async()=>{startLoading('정보불러오는 중...');try{const res=await axios.post('http://localhost:3400/welfareApi',name);const data=res.data.youthPolicyList.youthPolicy;if(!data.length){const data_title=data.polyBizSjnm._cdata;const data_content=data.polyItcnCn._cdata;const data_expire=data.bizPrdCn._cdata;const data_administration=data.mngtMson._cdata;const data_address=data.rqutProcCn._cdata;const data_etct=data.etct._cdata;arry01.title.push(data_title);arry01.content.push(data_content);arry01.expire.push(data_expire);arry01.administration.push(data_administration);arry01.address.push(data_address);arry01.etct.push(data_etct);return finishLoading(),setInfo(arry01.content),setExpire(arry01.expire),setAdministration(arry01.administration),setAddress(arry01.address),setEtct(arry01.etct);}if(data.length>0){for(let i in data){const data_title=data[i].polyBizSjnm._cdata;const data_content=data[i].polyItcnCn._cdata;const data_expire=data[i].bizPrdCn._cdata;const data_administration=data[i].mngtMson._cdata;const data_address=data[i].rqutProcCn._cdata;const data_etct=data[i].etct._cdata==null?'없음':data[i].etct._cdata;arry01.title.push(data_title);arry01.content.push(data_content);arry01.expire.push(data_expire);arry01.administration.push(data_administration);arry01.address.push(data_address);arry01.etct.push(data_etct);if(arry01.title[i]==values){return finishLoading(),setInfo(arry01.content[i]),setExpire(arry01.expire[i]),setAdministration(arry01.administration[i]),setAddress(arry01.address[i]),setEtct(arry01.etct[i]);}}}}catch(err){finishLoading(),openDialog(/*#__PURE__*/_jsx(ErrorDialog,{}));return;}finishLoading();};const onClick=async e=>{const value=params.values;const name=params.name;const link=\"/details/welfare/\".concat(name,\"/\").concat(value);const letter=e;if(upDateLogin){try{const res=await axios.post('http://localhost:3400/MyList',[dataContent[0],name,link,value]);const data=res.data;if(data=='already'){return alert('이미 찜한 상품입니다');}else{letter.style.color=\"#f00000\";return alert('찜에 성공했습니다.');}}catch(err){openDialog(/*#__PURE__*/_jsx(ErrorDialog,{}));return;}}else{return alert('로그인이후 이용가능합니다');}};useEffect(()=>{changeCondition();Api();},[upDateLogin]);return/*#__PURE__*/_jsx(Page,{header:/*#__PURE__*/_jsx(Title,{title:'복지정책설명'}),footer:/*#__PURE__*/_jsx(Navi,{data:naviDB.Info}),children:/*#__PURE__*/_jsx(Detail,{title:values,info:info,expire:expire,administration:administration,etct:etct,address:address,onClick:e=>onClick(e.target)})});};export default WelfareDetails;","map":{"version":3,"names":["React","useState","useEffect","useParams","axios","Page","Title","Navi","naviDB","Detail","ErrorDialog","MyLayout","jsx","_jsx","WelfareDetails","params","upDateLogin","setUpdateLogin","dataContent","setDataContent","info","setInfo","expire","setExpire","administration","setAdministration","address","setAddress","etct","setEtct","startLoading","finishLoading","useLoading","openDialog","useDialog","values","name","arry01","title","content","changeCondition","res","get","data","length","userId","userPassword","err","Api","post","youthPolicyList","youthPolicy","data_title","polyBizSjnm","_cdata","data_content","polyItcnCn","data_expire","bizPrdCn","data_administration","mngtMson","data_address","rqutProcCn","data_etct","push","i","onClick","e","value","link","concat","letter","alert","style","color","header","footer","Info","children","target"],"sources":["/Users/soye/Downloads/2024포트폴리오/youth/youth_front/src/pages/details/WelfareDetail.jsx"],"sourcesContent":["import React , { useState , useEffect} from 'react';\nimport { useParams } from 'react-router-dom';\nimport axios from 'axios';\nimport Page from '../../components/Page.jsx';\nimport Title from '../../components/Title.jsx';\nimport Navi from '../../components/Navi.jsx';\nimport naviDB from '../../json/navi.json';\nimport Detail from '../../components/Detail';\nimport ErrorDialog from '../../components/ErrorDialog.jsx';\nimport * as MyLayout from '../../lib/MyLayout.jsx';\n\n\nconst WelfareDetails = () => {\n\n    const params = useParams();\n    const [ upDateLogin , setUpdateLogin] = useState(false);\n    const [ dataContent, setDataContent ] = useState();\n    const [ info , setInfo ] = useState();\n    const [ expire , setExpire ] = useState();\n    const [ administration , setAdministration ] = useState();\n    const [ address , setAddress ] = useState();\n    const [ etct, setEtct ] = useState();\n    const { startLoading, finishLoading } = MyLayout.useLoading();\n    const { openDialog } = MyLayout.useDialog();\n    const { values , name } = params;\n    const arry01 = { \n      title : [], \n      content : [], \n      expire :[], \n      administration : [], \n      address : [] , \n      etct : []};\n  \n\n  const changeCondition = async() => {\n\n    try{\n       const res = await axios.get('http://localhost:3400/LoginList');\n       const data = res.data;\n\n       if(data.length <= 0){\n         return setUpdateLogin(false);\n\n       }else{\n         return setUpdateLogin(true), setDataContent([data[0].userId, data[0].userPassword]);\n       }\n\n   } catch(err){\n        openDialog(<ErrorDialog />);\n        return;\n   }\n    \n };\n\n    const Api = async() => {\n\n      startLoading('정보불러오는 중...');\n       try{\n       const res = await axios.post('http://localhost:3400/welfareApi' , name);\n       const data = res.data.youthPolicyList.youthPolicy; \n  \n       if(!data.length){\n        \n       const data_title = data.polyBizSjnm._cdata;\n       const data_content = data.polyItcnCn._cdata;\n       const data_expire = data.bizPrdCn._cdata;\n       const data_administration = data.mngtMson._cdata;\n       const data_address = data.rqutProcCn._cdata;\n       const data_etct = data.etct._cdata;\n     \n       arry01.title.push(data_title);\n       arry01.content.push(data_content);\n       arry01.expire.push(data_expire);\n       arry01.administration.push(data_administration);\n       arry01.address.push(data_address);\n       arry01.etct.push(data_etct);\n   \n       return  finishLoading(),\n       setInfo(arry01.content),\n       setExpire(arry01.expire),\n       setAdministration(arry01.administration),\n       setAddress(arry01.address),\n       setEtct(arry01.etct);\n  \n       }\n  \n      if(data.length > 0){\n  \n       for(let i in data){\n         \n          const data_title = data[i].polyBizSjnm._cdata;\n          const data_content = data[i].polyItcnCn._cdata;\n          const data_expire = data[i].bizPrdCn._cdata;\n          const data_administration = data[i].mngtMson._cdata;\n          const data_address = data[i].rqutProcCn._cdata;\n          const data_etct = data[i].etct._cdata  == null ?  '없음' : data[i].etct._cdata;\n        \n          arry01.title.push(data_title);\n          arry01.content.push(data_content);\n          arry01.expire.push(data_expire);\n          arry01.administration.push(data_administration);\n          arry01.address.push(data_address);\n          arry01.etct.push(data_etct);\n  \n  \n          if(arry01.title[i] == values){\n  \n            return  finishLoading(), \n            setInfo(arry01.content[i]),\n            setExpire(arry01.expire[i]),\n            setAdministration(arry01.administration[i]),\n            setAddress(arry01.address[i]),\n            setEtct(arry01.etct[i]);\n          }\n  \n        }\n      }\n  \n       }catch(err){\n        finishLoading(),\n        openDialog(<ErrorDialog />);\n        return;\n       }\n       finishLoading();\n    };\n\n    const onClick = async(e) => {\n\n      const value = params.values;\n      const name = params.name;\n      const link = `/details/welfare/${name}/${value}`;\n      const letter = e;\n \n      if(upDateLogin){\n \n        try{\n        const res = await axios.post('http://localhost:3400/MyList' , [dataContent[0], name, link, value]);\n        const data = res.data;\n \n        if(data == 'already'){\n          return alert('이미 찜한 상품입니다');\n        }else{\n          letter.style.color = `#f00000`;\n          return alert('찜에 성공했습니다.');\n        }\n       }catch(err){\n        openDialog(<ErrorDialog />);\n        return;\n       }\n \n      }else{\n \n          return alert('로그인이후 이용가능합니다');\n      }\n      \n   };\n \n  \n    useEffect(() => {\n        changeCondition();\n        Api();\n  \n    },[upDateLogin])\n  \n       return(\n          <Page header={<Title title={'복지정책설명'}></Title>}\n          footer={<Navi data={naviDB.Info}/>}>\n        \n            <Detail \n            title={ values }\n            info={info}\n            expire={expire}\n            administration={administration}\n            etct={etct}\n            address={address}\n            onClick={(e) => onClick(e.target)}\n            >\n              \n            </Detail>\n            \n          </Page>\n       )\n}\n\nexport default WelfareDetails;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}